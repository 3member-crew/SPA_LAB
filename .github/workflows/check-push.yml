name: CheckPush
on: 
    push:
        branches: dev, git_actions
jobs:
    lint:
      runs-on: ubuntu-latest
      steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Use Node.js
            uses: actions/setup-node@v3
            with:
              node-version: '20.x'
          - name: Install deps
            working-directory: ./frontend
            run: npm ci
          - name: ESLint
            working-directory: ./frontend
            run: npm run lint
    test:
      needs: [lint]
      runs-on: ubuntu-latest
      steps:
          - name: Checkout
            uses: actions/checkout@v3
          - name: Use Node.js
            uses: actions/setup-node@v3
            with:
              node-version: '20.x'
          - name: Install deps
            working-directory: ./frontend
            run: npm ci
          - name: Test
            working-directory: ./frontend
            run: npm run test
